{"version":3,"sources":["main.js"],"names":["siteListCache","JSON","parse","localStorage","getItem","siteHash","icon","url","desc","icon_from_url","replace","$","on","$input","val","window","open","siteUnit","Date","render","$add","forEach","node","index","before","e","target","hasClass","$site","closest","splice","remove","find","text","modal","mask","event","removeClass","alert","push","addClass","stopPropagation","onbeforeunload","setItem","stringify"],"mappings":"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","file":"main.4fe6fd57.map","sourceRoot":"../src","sourcesContent":["const siteListCache = JSON.parse(localStorage.getItem('siteList'))\nconst siteHash = siteListCache || [\n    {\n        icon: 'A',\n        url: 'https://www.acfun.cn/',\n        desc: 'A站',\n    },\n    {\n        icon: 'B',\n        url: 'https://www.bilibili.com/',\n        desc: 'B站',\n    },\n]\n\nconst icon_from_url = (url) => {\n    return url.replace('https://', '')\n        .replace('http://', '')\n        .replace('www.', '')\n        .replace(/\\/.*/, '')[0]\n}\n\n\n$('.searchButton').on('click', () => {\n    let $input = $('.searchInput').val()\n    window.open(`https://www.google.com/search?q=${$input}`, '_self')\n})\n\nconst siteUnit = (url, icon, desc) => {\n    return `<div class=\"site\" id=${Date.parse(new Date())}>\n        <div class=\"link\">${url}</div>\n        <div class=\"close\">X</div>\n        <div class=\"siteIcon\">\n            ${icon}\n        </div>\n        <div class=\"desc\">\n            ${desc}\n        </div>\n    </div>`\n}\n\nconst render = () => {\n    $add = $('.addSite')\n    siteHash.forEach((node, index) => {\n        $add.before(siteUnit(node.url, node.icon, node.desc))\n    })\n}\n\n\n$('.siteList').on('click', (e) => {\n    if ($(e.target).hasClass('close')) {\n        let $site = $(e.target).closest('.site')\n        let index = $(\".siteList .site\").index($site)\n        siteHash.splice(index, 1);\n        $site.remove()\n    } else if ($(e.target).closest('.site')) {\n        let url = $(e.target).closest('.site').find('.link').text()\n        window.open(url, '_self')\n    }\n})\n\nconst modal = $('.modal')\nconst mask = $('.mask')\n\n$('.addSite').on('click', (event) => {\n    mask.removeClass('modalClose')\n})\n\n$('.addButton').on('click', (event) => {\n    let url = $('.modalUrl').val()\n    let desc = $('.modalDesc').val()\n    if (url === '' || desc === '') {\n        return window.alert('请填写完整网址和描述')\n    }\n    siteHash.push({\n        'icon': icon_from_url(url),\n        'url': url,\n        'desc': desc,\n    })\n    $add.before(siteUnit(url, icon_from_url(url), desc))\n    $('.modalUrl').val('')\n    $('.modalDesc').val('')\n    mask.addClass('modalClose')\n})\n\nmask.on('click', (event) => {\n    mask.addClass('modalClose')\n    $('.modalUrl').val('')\n    $('.modalDesc').val('')\n})\n\nmodal.on('click', (e) => {\n    e.stopPropagation()\n})\n\n\nrender()\n\n\nwindow.onbeforeunload = () => {\n    localStorage.setItem('siteList', JSON.stringify(siteHash))\n\n}\n\n// $(document).on('keypress', (e) => {\n//     const {key} = e\n//     for (let i = 0; i < siteHash.length; i++) {\n//         if (siteHash[i].icon.toLowerCase() === key) {\n//             window.open(siteHash[i].url, '_self')\n//         }\n//     }\n// })\n"]}